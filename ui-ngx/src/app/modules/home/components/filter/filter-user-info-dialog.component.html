<form [formGroup]="filterUserInfoFormGroup" (ngSubmit)="save()" style="width: 500px;">
  <mat-toolbar color="primary">
    <h2>{{(data.readonly ? 'filter.filter-user-params' : 'filter.edit-filter-user-params') | translate}}</h2>
    <span fxFlex></span>
    <button mat-icon-button
            (click)="cancel()"
            type="button">
      <mat-icon class="material-icons">close</mat-icon>
    </button>
  </mat-toolbar>
  <div mat-dialog-content>
    <fieldset [disabled]="isLoading$ | async" fxLayout="column">
      <mat-checkbox fxFlex formControlName="editable" style="margin-bottom: 16px;">
        {{ 'filter.editable' | translate }}
      </mat-checkbox>
      <div fxFlex fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px">
        <mat-form-field fxFlex class="mat-block">
          <mat-label translate>filter.display-label</mat-label>
          <input matInput formControlName="label">
        </mat-form-field>
        <mat-checkbox formControlName="autogeneratedLabel">
          {{ 'filter.autogenerated-label' | translate }}
        </mat-checkbox>
      </div>
      <mat-form-field fxFlex class="mat-block">
        <mat-label translate>filter.order-priority</mat-label>
        <input matInput type="number" formControlName="order">
      </mat-form-field>
    </fieldset>
  </div>
  <div mat-dialog-actions fxLayoutAlign="end center">
    <button mat-button color="primary"
            type="button"
            [disabled]="(isLoading$ | async)"
            (click)="cancel()"
            cdkFocusInitial>
      {{ (data.readonly ? 'action.close' : 'action.cancel') | translate }}
    </button>
    <button mat-raised-button color="primary"
            *ngIf="!data.readonly"
            type="submit"
            [disabled]="(isLoading$ | async) || filterUserInfoFormGroup.invalid || !filterUserInfoFormGroup.dirty">
      {{ 'action.update' | translate }}
    </button>
  </div>
</form>
