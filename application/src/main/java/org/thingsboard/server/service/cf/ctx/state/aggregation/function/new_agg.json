{
  "type": "LATEST_VALUES_AGGREGATION",
  "name": "Occupied spaces",
  "debugSettings": {
    "failuresEnabled": true,
    "allEnabled": true,
    "allEnabledUntil": 1769907492297
  },
  "entityId": {
    "entityType": "ASSET_PROFILE",
    "id": "2b759c60-a8f4-11f0-be29-7fa922118588"
  },
  "configuration": {
    "type": "LATEST_VALUES_AGGREGATION",
    "relation": {
      "direction": "FROM",
      "relationType": "Contains"
    },
    "arguments": {
      "oc": {
        "refEntityKey": {
          "key": "occupied",
          "type": "TS_LATEST"
        },
        "defaultValue": "false"
      }
    },
    "deduplicationIntervalMillis": 20000,
    "metrics": {
      "totalSpaces": {
        "function": "COUNT",
        "input": {
          "type": "function",
          "function" : "return 1;"
        }
      },
      "occupiedSpaces": {
        "function": "COUNT",
        "filter": "return oc == true",
        "input": {
          "type": "key",
          "key" : "oc"
        }
      },
      "freeSpaces": {
        "function": "COUNT",
        "filter": "return oc == false",
        "input": {
          "type": "key",
          "key" : "oc"
        }
      }
    },
    "output": {
      "type": "TIME_SERIES",
      "decimals": 2
    },
    "useLatestTsFromInputs": "true"
  }
}
